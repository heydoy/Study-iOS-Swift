# iOS 강의-ch2 첫 앱 만들기-01~09

# i# OS # 강의# -ch2 # 첫#  # 앱#  # 만들기# -01~09

사용하는 대부분의 앱은 복잡한 기능을 가지고 있다. 

복잡한 기능 = 여러개의 작은 기능들의 조합 

각각 작은 기능을 먼저 만들고 조합하면 복잡한 기능을 만들 수 있다

만드려는 액자 앱 
![iOS 강의-ch2 첫 앱 만들기-01~09](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09.png)

앱을 만들 때 뷰와 기능적인 측면 

* 뷰 : 타이틀 텍스트, 이미지, 가격텍스트, 리프레시 버튼 

* 기능 : 리프레시 버튼을 클릭했을 때 새로운 가격으로 표시가 되는 기능 

-
xcode 열기 

Create new xcode project > 
![iOS 강의-ch2 첫 앱 만들기-01~09-1](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-1.png)

ios 템플릿 중 single view app 선택 
(지금 버전에서는 SINGLE view가 딱히 없었다.)
![iOS 강의-ch2 첫 앱 만들기-01~09-2](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-2.png)

language  : swift 
user interface : storyboard 
swiftUI는 2019년에 애플이 선보인 유저인터페이스. IOS13부터 사용가능. (웬만한 회사에서는 적용 x, 지금은 상황이 다를 듯) 

강의에서는 스토리보드를 통해 기반지식을 쌓을 예정

![iOS 강의-ch2 첫 앱 만들기-01~09-3](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-3.png)

Main.storyboard의 뷰 페이지. 
좌측에 View Controller 
: 페이지 하나를 관장하고 담당하는 역할 

![iOS 강의-ch2 첫 앱 만들기-01~09-4](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-4.png)

오브젝트 라이브러리를 통해 버튼 추가 

![iOS 강의-ch2 첫 앱 만들기-01~09-5](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-5.png)

![iOS 강의-ch2 첫 앱 만들기-01~09-6](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-6.png)

버튼 추가된 모습

![iOS 강의-ch2 첫 앱 만들기-01~09-7](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-7.png)

기준이 되는 스크린 선택 
![iOS 강의-ch2 첫 앱 만들기-01~09-8](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-8.png)

시뮬레이터도 변경 후 RUN 
툴바에 있는 재생버튼을 눌러 빌드, 런 

![iOS 강의-ch2 첫 앱 만들기-01~09-9](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-9.png)

![iOS 강의-ch2 첫 앱 만들기-01~09-10](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-10.png)

시뮬레이터 화면 
![iOS 강의-ch2 첫 앱 만들기-01~09-11](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-11.png)

버튼을 눌러도 동작하지 않는다. 수행해야되는 코드를 작성하지 않았기 때문

-
ViewController?
역할은 스크린 하나를 관리하는 것 

페이지가 하나만 필요할 경우 뷰 컨트롤러도 한 개만 필요. 

만약 이런 앱이 있다면 
![iOS 강의-ch2 첫 앱 만들기-01~09-12](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-12.png)

뉴스리스트를 보여주는 페이지, 뉴스화면을 보여주는 페이지 하나라서, 뷰 컨트롤러 2개가 필요. 복잡한 기능이 있다면 한 페이지에 여러개의 뷰  컨트롤러가 있을 수 있음. 

뷰컨트롤러는 통상적으로 2가지 파트로 구성됨 : 
스토리보드를 통해 디자인을 구성 
스토리보드와 연결된 화면을 코드로 만드는  코드 파트. 

-
Assistant를 눌러서 design과 code를 같이 볼 수 있도록 레이아웃을 구성 
![iOS 강의-ch2 첫 앱 만들기-01~09-13](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-13.png)

아래와 같이 바뀜 
![iOS 강의-ch2 첫 앱 만들기-01~09-14](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-14.png)

뷰와 연결된 코드가 같이 보여서 직관적으로 개발이 가능 

![iOS 강의-ch2 첫 앱 만들기-01~09-15](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-15.png)

인스펙터 창의 identity inspector를 누르면 VIEW controller 가 연결된 것을 확인할 수 있다.
![iOS 강의-ch2 첫 앱 만들기-01~09-16](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-16.png)

버튼을  눌렀을  때 반응하는 코드를 작성 

스토리보드창에서 button 선택하고 Ctrl 누른 후  드래그 후 코드창으로 드롭. 놓아주면 connection : Action, Name: hello, type : Any, Touch up Inside(터치하고 UP했을때 액션 수행/인터랙션의 시점을 결정 ) 
![iOS 강의-ch2 첫 앱 만들기-01~09-17](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-17.png)

![iOS 강의-ch2 첫 앱 만들기-01~09-18](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-18.png)

버튼을 누르면 CONSOLE 에 내용이 출력됨 
![iOS 강의-ch2 첫 앱 만들기-01~09-19](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-19.png)

콘솔 clear
![iOS 강의-ch2 첫 앱 만들기-01~09-20](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-20.png)

-
xcode에서 얼럿띄우기 (앱에서 팝업)

안 쓰는 코드, 주석은 모두 지우기 

    **@IBAction** **func** hello(_ sender: **Any**) {
        **let** alert = UIAlertController(title: "hello", message: "Dee's First App", preferredStyle: .alert)
        **let** action = UIAlertAction(title: "OK", style: .default, handler: **nil**)
        
        alert.addAction(action)
        present(alert, animated: **true**, completion: **nil**)
    }

![iOS 강의-ch2 첫 앱 만들기-01~09-21](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-21.png)

버튼이 눌렸을 때 얼럿이 뜨는 코드 

![iOS 강의-ch2 첫 앱 만들기-01~09-22](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-22.png)

코드를 썼을 때 동작한다는 것을 알려주기 위해 알려줌. 뭉티기로 알면 좋겠다. 

앞으로도 많이 할 것이기 때문에 추가적으로 설명. 

-
xcode에서 문제가 발생했을 때 해결하기 

첫번째. 오타가 발생했을 때 
![iOS 강의-ch2 첫 앱 만들기-01~09-23](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-23.png)

xcode에서 빨간색으로 경고를 줌. 경고메시지의 내용을 보고 파악하기. 처음에 작성할 때 자동완성을 항상 많이 활용하는 것이 좋다. 

두번째. 스위프트는 대소문자를 구분한다.

세번째. 중괄호가 하나의 스코프(Scope), 바운더리. 나가지 않게 주의할 것. 

네번째. 스토리보드에서 액션을 걸었다면 동그라미 안에 흰색이 차 있어서 연결되어있음을 알 수 있다. 

![iOS 강의-ch2 첫 앱 만들기-01~09-24](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-24.png)

실제로 버튼을 가져다댄 다음 우측의 connections inspector를 가면 
![iOS 강의-ch2 첫 앱 만들기-01~09-25](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-25.png)

![iOS 강의-ch2 첫 앱 만들기-01~09-26](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-26.png)

viewcontroller의 Hello와 연결되어있다고 뜸. 

만약 이름을 바꿨다면 빌드에는 문제가 없지만 앱을 실행하는 동안에 죽는 경우, 앱이 죽었다, CRASH났다고 표현함. 

![iOS 강의-ch2 첫 앱 만들기-01~09-27](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-27.png)

이럴 때는 연결을 끊고 ctrl을 눌러서 드래그한 후 함수 몸통에 연결함.

해당 함수 코드에 파란색 하이라이트, 박스가 생김 

파란 줄이 생기면  새로운 액션함수를 해당 위치에  삽입한다는 뜻

—

위험하지 않지만, 빌드도  되고, 앱이 수행하는데 아무 문제가 없지만, 시스템입장에서 걱정이 되는 부분이 생길 경우 warning이 생김 

예를 들어 
변수의 let을  var로 바꿀 경우 
![iOS 강의-ch2 첫 앱 만들기-01~09-28](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-28.png)

빌드도 성공하고  앱도 동작을 잘 하지만,  
alert은 변형되지 않으니 let으로 쓰라고 제안 메시지를  보냄. 바로 쉽게 FIX를 누르면 바뀜. (문제가 되는 블럭에  색깔로  블럭을  표시해둠)

—

에러 : 앱이 죽거나, 빌드가 안됨 
워닝 : 크리티컬하진 않지만 잠재적인 문제를 일으킬 이슈가 있기 때문에 시스템에서 알려줌. 예전에 네이버 있을 때 워닝을 잡는 날이 있었다. 시급한 릴리즈가 있을 때는 워닝을 다 처리하지 못하기 때문에. 

최대한 워닝을 만들지 않는 것을 권장. 

에러, 워닝이 뜰 경우 메시지를 보고 내용에 있는 가이드를 보고 따라서 할 것. 

—

도전과제! 
![iOS 강의-ch2 첫 앱 만들기-01~09-29](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-29.png)

* 버튼추가

* 버튼 클릭 시, 새로운 얼럿 띄우기

- 스토리보드에서 할 일

	* 새로운 버튼 추가

	* 뷰 컨트롤러에 버튼 액션 연결

- 코드에서 할 일

	* 메소드 새로 추가 

——

도전과제 완료 
![iOS 강의-ch2 첫 앱 만들기-01~09-30](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-30.png)

-
Attributes Inspector에서 버튼 속성 수정 가능 

![iOS 강의-ch2 첫 앱 만들기-01~09-31](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-31.png)

반대로 코드를 복사 붙여넣고 빈 구멍을 클릭하여 스토리보드의 버튼과 연결할 수 있다. 

![iOS 강의-ch2 첫 앱 만들기-01~09-32](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-32.png)

:) 
![iOS 강의-ch2 첫 앱 만들기-01~09-33](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-33.png)

—

액자앱의 뷰 구성하기 

![iOS 강의-ch2 첫 앱 만들기-01~09-34](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-34.png)

뷰 컴포넌트를  이용해 화면을 구성해야합니다. 
모든 뷰컴포넌트는 모두 UIKit 라는 프레임웤 안에 있다. 

쉽게 얘기하면 UI 컴포넌트를 만들 때 필요한 것들을 찾아서 쓸 수 있는 아주 큰 공구함이라고 생각하면 될 것 같다. 

그래서 프레임웍framework은 다른 게 아니라 필요한 것들을 모아놓은 공구함이다. 

원하는 UI컴포넌트는 xcode의 오브젝트 라이브러리에서 찾을 수 있다.

*  타이틀 텍스트 

: 오브젝트 라이브러리에서 UILabel

* 이미지

: 오브젝트 라이브러리에서 Image View
![iOS 강의-ch2 첫 앱 만들기-01~09-35](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-35.png)

사이즈 인스펙터에서 사이즈 조정 

*  버튼

:  기존의 버튼의 글자와 색상을 수정

* 가격 텍스트

: 위의 타이틀 alt 눌러 가져와서 복사해오고  텍스트 스타일 수정 및 가격으로 수정 

화면을 구성했으니  빌드앤런 >< 
![iOS 강의-ch2 첫 앱 만들기-01~09-36](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-36.png)

이렇게 뷰를  구성할 때 알아야되는 개념 

컴포넌트를 클릭하면  사이즈 인스펙터에 사이즈와  좌표가  뜬다. 

그렇다면 좌표의 기준점이 되는 것은 무엇인지? 

뷰  구성 시 알아야할 규칙

![iOS 강의-ch2 첫 앱 만들기-01~09-37](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-37.png)

뷰의  기준은 좌측 상단 

![iOS 강의-ch2 첫 앱 만들기-01~09-38](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-38.png)

 —

앱 동작방식의 이해 
![iOS 강의-ch2 첫 앱 만들기-01~09-39](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-39.png)

앱은 기본적으로  여러가지 오브젝트로 구성되어 있음 

우리가 봤던 오브젝트는 UI Label, Button, View Controller 등이 있음. 

오브젝트는 iOS에서 제공해주는 경우도 있지만 필요에 따라서 개발자가 직접 만들어야 되는 것도 있다. 

![iOS 강의-ch2 첫 앱 만들기-01~09-40](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-40.png)

오브젝트들은 상호 메시지를 보내면서 커뮤니케이션을 한다. 

앞서 작업한 예를 들면, 사용자가 버튼을 클릭했을 때 버튼은 뷰 컨트롤러에게 버튼이 클릭되었다고 알려줌. 뷰 컨트롤러는 showAlert 메소드를 수행하고  UIAlertController에게 메시지를 보낸다. (이제 떠야지!)하고.  

그리고 iOS 앱 자체는 이벤트 발생에 따라서 작동한다. 

그 말인 즉슨, 앱은 이벤트를 계속 기다리고 있다는 뜻. 앱은 대부분의 시간을 이벤트를 기다리는 데 사용. 

이벤트가 들어오면  이벤트에 해당하는 프로세스를 실행하고 다시 기다림. 

요약 
![iOS 강의-ch2 첫 앱 만들기-01~09-41](images/iOS%20강의-ch2%20첫%20앱%20만들기-01~09-41.png)

-끝-

